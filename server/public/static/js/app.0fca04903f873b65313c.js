webpackJsonp([1],{"6Biq":function(e,t){},"7zck":function(e,t){},"9NxQ":function(e,t){},FC5c:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),o=r("3EgV"),n=r.n(o),a=r("sUu7"),l=r("9JMe"),i=(r("7zck"),r("ifoU")),c=r.n(i),u=r("NYxO"),d=r("mvHQ"),p=r.n(d),v=function(){try{return JSON.parse(localStorage.getItem("_voting_user"))}catch(e){return null}},m=function(e){var t=e?e.access_token:null,r=e?e.id_user:null;t&&r?localStorage.setItem("_voting_user",p()({access_token:t,id_user:r})):localStorage.removeItem("_voting_user")};s.a.use(u.a);var f=new u.a.Store({strict:!0,state:{user:{token:v()?v().access_token:null,id_user:v()?v().id_user:null},drawer:null,polls:null,mypolls:null,pollsbyId:new c.a,isUserLoggedIn:null!==v()},getters:{getPolls:function(e){return e.polls},getMyPolls:function(e){return e.mypolls},getToken:function(e){return e.user.token},getIdUser:function(e){return e.user.id_user}},mutations:{setUser:function(e,t){t?(e.user.token=t.access_token,e.user.id_user=t.id_user,e.isUserLoggedIn=!0):(e.user.token=null,e.user.id_user=null,e.isUserLoggedIn=!1)},setPolls:function(e,t){e.polls=t,t.forEach(function(t){e.pollsbyId.set(t._id,t)})},setMyPolls:function(e,t){e.mypolls=t},toggleDrawer:function(e,t){e.drawer=t}},actions:{setMyPolls:function(e,t){(0,e.commit)("setMyPolls",t)},setPolls:function(e,t){(0,e.commit)("setPolls",t)},setUser:function(e,t){(0,e.commit)("setUser",t)},toggleDrawer:function(e,t){(0,e.commit)("toggleDrawer",t)}}}),h=r("Xxa5"),g=r.n(h),w=r("exGp"),j=r.n(w),_={name:"PageHeader",data:function(){return{clipped:!1}},mounted:function(){this.drawer=!1},computed:{items:function(){return this.$store.state.isUserLoggedIn?[{title:"Create poll",path:"/poll/create",items:[]},{title:"My polls",path:"/poll/my",items:[]},{title:"About",path:"/about",items:[]}]:[{title:"Sign In",path:"/login",items:[]},{title:"Sign Up",path:"/register",items:[]},{title:"About",path:"/about",items:[]}]},drawer:{get:function(){return this.$store.state.drawer},set:function(e){this.$store.dispatch("toggleDrawer",e)}}},methods:{logout:function(){m(null),this.$store.dispatch("setUser",null),this.$router.push({name:"login"})}}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{clipped:e.clipped,"enable-resize-watcher":"enable-resize-watcher","disable-route-watcher":"disable-route-watcher",app:"app",light:"light"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{staticClass:"pt-0",attrs:{dense:"dense"}},[e._l(e.items,function(t){return r("v-list-tile",{key:t.title,attrs:{to:t.path}},[r("v-list-tile-content",[r("v-list-tile-title",[r("h3",[e._v(e._s(t.title)+"\n                    ")])])],1)],1)}),e._v(" "),e.$store.state.isUserLoggedIn?r("v-list-tile",{on:{click:e.logout}},[r("v-list-tile-content",[r("v-list-tile-title",[r("h3",[e._v("Sign out\n                    ")])])],1)],1):e._e()],2)],1)},staticRenderFns:[]},b=r("VU/8")(_,y,!1,null,null,null).exports,x=r("mtWM"),k=r.n(x),P=function(){return k.a.create({baseURL:"https://votingapp.khacquyetdang.com/api",headers:{Authorization:"Bearer "+f.getters.getToken}})},q=function(e){return P().post("/poll/create",e)},z=function(){return P().get("/poll/mypolls")},C=function(){return P().get("/poll/list")},U=function(e){return P().get("/poll/detail",{params:{pollid:e}})},E=function(e,t,r){return P().put("/poll/vote",{pollId:e,choiceId:t,newChoice:r})},$=function(e){return P().delete("/poll/"+e)},R={name:"App",data:function(){return{error:null}},methods:{toggleDrawer:function(){var e=!this.$store.state.drawer;this.$store.dispatch("toggleDrawer",e)},goHome:function(){this.$router.push({name:"allpolls"})},getPolls:function(){var e=this;return j()(g.a.mark(function t(){var r,s;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C();case 3:r=t.sent,console.log("polls response",r),s=r.data.polls,e.$store.dispatch("setPolls",s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.error=t.t0.response.data.error.msg||"An error has occured, please try again later";case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}},mounted:function(){this.getPolls()},components:{PageHeader:b}},L={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("v-app",{attrs:{light:"light"}},[r("page-header"),e._v(" "),r("v-toolbar",{staticClass:"cyan",attrs:{color:"indigo",dark:"dark",fixed:"fixed",app:"app"}},[r("v-toolbar-side-icon",{on:{click:function(t){return t.stopPropagation(),e.toggleDrawer(t)}}}),e._v(" "),r("v-toolbar-title",{staticClass:"pointer",on:{click:e.goHome}},[e._v("\n                Voting App\n            ")])],1),e._v(" "),r("v-content",[r("v-container",{attrs:{fluid:"fluid"}},[r("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var N=r("VU/8")(R,L,!1,function(e){r("XfLW")},null,null).exports,A=r("/ocq"),F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("h1",[e._v(e._s(e.msg))]),e._v(" "),r("br"),e._v(" "),r("h2",[e._v("\n        This application allow user to create and vote in various poll.\n        You can change your vote whenever you want. You can\n        add choice if the choice list is not fit.\n    ")]),e._v(" "),r("br"),e._v(" "),e._m(0),e._v(" "),r("br"),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[this._v("This app is developed by using vuejs, vuetify and chartjs\n        in the frontend. The backend is developed using expressjs,\n        passportjs. You can find the code source\n        "),t("a",{attrs:{href:"https://github.com/khacquyetdang/votingappvue",target:"_blank"}},[this._v("here")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("I'm Khac Quyet DANG fullstack developer. Please\n        "),t("a",{attrs:{href:"mailto:contact@bootlearning.com?Subject=Contact from voteapp",target:"_top"}},[this._v("send me a mail")]),this._v("\n        me if you want to hire or to develop some idea. You can find\n        my CV\n        "),t("a",{attrs:{href:"https://khacquyetdang.github.io/"}},[this._v("\n            here")])])}]};var I=r("VU/8")({name:"AboutPage",data:function(){return{msg:"Welcome to Your Vue.js App"}}},F,!1,function(e){r("RNen")},"data-v-3d1a2e27",null).exports,H=function(e){return P().post("/signup",e)},M=function(e){return P().post("/login",e)},V={name:"Register",data:function(){return{valid:!0,email:"",password:"",confirmPassword:"",error:null}},methods:{register:function(){var e=this;return j()(g.a.mark(function t(){var r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({email:e.email,password:e.password,confirmPassword:e.confirmPassword});case 3:r=t.sent,e.$store.dispatch("setUser",r.data),m(r.data),e.$router.push({name:"allpolls"}),console.log("response",r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error",t.t0),e.error=t.t0.response.data.error.msg||"An error has occured, please try again later";case 14:case"end":return t.stop()}},t,e,[[0,10]])}))()},clear:function(){this.$refs.form.reset(),this.error=null}}},S={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12",sm2:"sm2",md6:"md6","offset-xs0":"offset-xs0","offset-md3":"offset-md3"}},[r("div",{staticClass:"white elevation-2"},[r("v-toolbar",{staticClass:"cyan",attrs:{flat:"flat",dense:"dense",dark:"dark"}},[r("v-toolbar-title",[e._v("Register")])],1),e._v(" "),r("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[r("v-form",{ref:"form",attrs:{autocomplete:"off","lazy-validation":"lazy-validation"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required: true, email: true}"}],attrs:{label:"Email","error-messages":e.errors.collect("email"),name:"email","data-vv-delay":"30"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],ref:"password",attrs:{type:"password","data-vv-name":"password","data-vv-delay":"100","data-vv-rules":"required","error-messages":e.errors.collect("password"),label:"Password",autocomplete:"new-password",required:"required"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:$password",expression:"'required|confirmed:$password'"}],attrs:{type:"password","data-vv-name":"password_confirmation","error-messages":e.errors.collect("password_confirmation"),"data-vv-delay":"100",label:"Confirm password",autocomplete:"new-password",required:"required"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),e._v(" "),null!==e.error?r("v-alert",{attrs:{type:"error",value:!0},domProps:{innerHTML:e._s(e.error)}}):e._e(),e._v(" "),r("v-btn",{staticClass:"cyan",attrs:{disabled:e.errors.items.length>0},on:{click:e.register}},[e._v("Register")]),e._v(" "),r("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)],1)],1)])],1)},staticRenderFns:[]};var T=r("VU/8")(V,S,!1,function(e){r("FC5c")},"data-v-54e45ace",null).exports,O={name:"Login",data:function(){return{email:"",password:"",error:null}},methods:{login:function(){var e=this;return j()(g.a.mark(function t(){var r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M({email:e.email,password:e.password});case 3:r=t.sent,e.$store.dispatch("setUser",r.data),e.$router.push({name:"allpolls"}),m(r.data),console.log("response",r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error",t.t0.response),t.t0.response?e.error=t.t0.response.data.error.msg||"An error has occured, please try again later":e.error="An error has occured, please try again later";case 14:case"end":return t.stop()}},t,e,[[0,10]])}))()}}},D={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12",sm12:"sm12",md6:"md6","offset-xs0":"offset-xs0","offset-sm0":"offset-sm0","offset-md3":"offset-md3"}},[r("div",{staticClass:"white elevation-2"},[r("v-toolbar",{staticClass:"cyan",attrs:{flat:"flat",dense:"dense",dark:"dark"}},[r("v-toolbar-title",[e._v("Login")])],1),e._v(" "),r("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[r("v-form",{ref:"form",attrs:{autocomplete:"off","lazy-validation":"lazy-validation"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required: true, email: true}"}],attrs:{"data-vv-name":"email","error-messages":e.errors.collect("email"),label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"password","data-vv-name":"password","data-vv-delay":"100","data-vv-rules":"required","error-messages":e.errors.collect("password"),autocomplete:"new-password",required:"required",label:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),null!==e.error?r("v-alert",{attrs:{type:"error",value:!0},domProps:{innerHTML:e._s(e.error)}}):e._e(),e._v(" "),r("v-btn",{staticClass:"cyan",attrs:{disabled:e.errors.items.length>0},on:{click:e.login}},[e._v("Login")])],1)],1)],1)])],1)},staticRenderFns:[]};var B=r("VU/8")(O,D,!1,function(e){r("9NxQ")},"data-v-012d519d",null).exports,X={name:"CreatePoll",data:function(){return{question:null,options:[],option:null,error:null,success:!1}},watch:{option:function(e){this.error=null}},methods:{createPoll:function(e){var t=this;return j()(g.a.mark(function r(){var s,o;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&e.preventDefault(),!(t.question&&t.options.length>0)){r.next=18;break}return r.prev=2,s={question:t.question,choices:t.options},r.next=6,q(s);case 6:o=r.sent,t.success=!0,t.question=null,t.options=[],console.log(o),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),t.error=r.t0.response.data.error.msg||"An error has occured, please try again later";case 16:r.next=19;break;case 18:t.error="You need to fill the poll options and the question in order to create poll";case 19:t.$validator.reset(),console.log("create poll");case 21:case"end":return r.stop()}},r,t,[[2,13]])}))()},removePoll:function(e){console.log("remove poll i",e),this.options.splice(e,1)},addPoll:function(){(console.log("add poll"),null!==this.option)&&(this.options.some(function(e){return this.option.trim().toLowerCase()===e.trim().toLowerCase()}.bind(this))?this.error="This option is already existed":(this.options.push(this.option),this.option=null))}}},W={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12",sm12:"sm12",md6:"md6","offset-xs0":"offset-xs0","offset-sm0":"offset-sm0","offset-md3":"offset-md3"}},[r("div",{staticClass:"white elevation-2"},[r("v-toolbar",{staticClass:"cyan",attrs:{flat:"flat",dense:"dense",dark:"dark"}},[r("v-toolbar-title",[e._v("Create poll")])],1),e._v(" "),r("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[r("v-form",{ref:"form",attrs:{autocomplete:"off","lazy-validation":"lazy-validation"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],attrs:{"data-vv-name":"question","error-messages":e.errors.collect("question"),label:"Topic"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}}),e._v(" "),r("h3",[e._v("Poll options")]),e._v(" "),e._l(e.options,function(t,s){return r("div",{key:s},[r("v-text-field",{attrs:{"append-icon":"clear","append-icon-cb":function(){return e.removePoll(s)}},model:{value:e.options[s],callback:function(t){e.$set(e.options,s,t)},expression:"options[i]"}})],1)}),e._v(" "),r("v-text-field",{attrs:{label:"Add a poll option","data-vv-name":"option","append-icon":"add","append-icon-cb":e.addPoll},model:{value:e.option,callback:function(t){e.option=t},expression:"option"}}),e._v(" "),e.error?r("v-alert",{attrs:{type:"error",value:!0},domProps:{innerHTML:e._s(e.error)}}):e._e(),e._v(" "),r("v-btn",{staticClass:"cyan",attrs:{disabled:e.errors.items.length>0||0===e.options.length},on:{click:e.createPoll}},[e._v("Start Poll")])],2)],1)],1),e._v(" "),e.success?r("v-snackbar",{attrs:{timeout:3e3,top:!0,bottom:!1,right:!1,left:!1,multiline:!1,vertical:!1},model:{value:e.success,callback:function(t){e.success=t},expression:"success"}},[e._v("\n            The poll is created\n            "),r("v-btn",{attrs:{flat:"flat",color:"pink"},nativeOn:{click:function(t){e.success=!1}}},[e._v("Close")])],1):e._e()],1)],1)},staticRenderFns:[]};var Y=r("VU/8")(X,W,!1,function(e){r("tR6p")},"data-v-04acdb3a",null).exports,Q={name:"ListPoll",props:["polls"],data:function(){return{error:null}},computed:{pollEmpty:function(){return!this.polls||0===this.polls.length}},methods:{viewPoll:function(e){console.log("view poll",e);var t=e._id;this.$router.push({name:"polldetail",params:{id:t,poll:e}})}},created:function(){console.log("created")},mounted:function(){console.log("mounted")},updated:function(){console.log("updated")}},G={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{"justify-center":"justify-center"}},[r("v-container",{attrs:{"grid-list-md":"grid-list-md","text-xs-center":"text-xs-center"}},[e.pollEmpty?r("v-layout",{attrs:{row:"row","justify-center":"",wrap:"wrap"}},[r("v-card",{attrs:{raised:!0}},[r("v-card-title",{attrs:{"primary-title":""}},[r("h3",[e._v("There is no poll created. Please create\n                        your first poll\n                    ")])]),e._v(" "),r("v-card-actions",[r("v-layout",{attrs:{"justify-center":"","mt-1":"","mb-2":""}},[r("v-btn",{attrs:{to:"/poll/create",color:"cyan"}},[e._v("\n                            Create poll\n                        ")])],1)],1)],1)],1):e._e(),e._v(" "),r("v-layout",{attrs:{row:"row",wrap:"wrap"}},e._l(e.polls,function(t,s){return r("v-flex",{key:s,attrs:{md4:"md4"}},[r("v-card",{staticClass:"mx-1",attrs:{color:"lime lighten-5"}},[r("div",[r("h2",[e._v(e._s(t.question))])]),e._v(" "),r("v-btn",{attrs:{color:"info"},on:{click:function(){return e.viewPoll(t)}}},[e._v("\n                        View poll\n                    ")]),e._v(" "),r("div",{staticClass:"owner"},[e._v("\n                        Created by:\n                    ")]),e._v(" "),r("div",{staticClass:"owner"},[e._v(e._s(t.owner.email))])],1)],1)}))],1)],1)},staticRenderFns:[]};var J=r("VU/8")(Q,G,!1,function(e){r("s7B2")},"data-v-23a2aa41",null).exports,K=r("UlOv"),Z=K.b.reactiveProp,ee={name:"PieChart",extends:K.a,mixins:[Z],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},te=r("WybQ"),re=r.n(te),se={name:"PollDetail",props:["id"],components:{PieChart:ee},data:function(){return{newchoice:null,error:null,datacollection:null,poll:null,pieoptions:{responsive:!0,maintainAspectRatio:!1}}},computed:{showRemovedBtn:function(){return this.poll&&this.poll.owner===this.$store.getters.getIdUser}},mounted:function(){this.getPoll()},watch:{newchoice:function(e){this.error=null}},methods:{newchoiceSend:function(){(this.newchoice=this.newchoice.trim(),null===this.newchoice||this.newchoice.length<4)?this.error="The new choice must have more than 3 characters.":this.poll.choices.some(function(e){return e.text.trim().toLowerCase()===this.newchoice.toLowerCase()}.bind(this))?this.error="This choice is already existed.":this.vote(null)},choiceIdByIndex:function(e){try{return this.poll.choices[e]._id}catch(t){console.log("error",e)}return null},getPoll:function(){var e=this;return j()(g.a.mark(function t(){var r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e.$props.id);case 3:r=t.sent,console.log("poll detail response",r),e.poll=r.data,e.fillData(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.error=t.t0.response.data.error.msg||"An error has occured, please try again later";case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},vote:function(e){var t=this;return j()(g.a.mark(function r(){var s;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("vote choiId",e),r.next=4,E(t.$props.id,e,t.newchoice);case 4:s=r.sent,console.log("poll detail response",s),t.poll=s.data.poll,t.fillData(),t.newchoice="",r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),t.error=r.t0.response.data.error.msg||"An error has occured, please try again later";case 14:case"end":return r.stop()}},r,t,[[0,11]])}))()},remove:function(){var e=this;return j()(g.a.mark(function t(){var r,s;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$props.id,console.log("remove poll pollid",r),t.next=5,$(r);case 5:s=t.sent,console.log("poll removed response",s),e.$router.go(-1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.error=t.t0.response.data.error.msg||"An error has occured, please try again later";case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()},fillData:function(){if(this.poll){var e=[],t=[],r=[];this.poll.choices.forEach(function(s){e.push(s.text),t.push(re()()),r.push(s.votes.length)}),this.datacollection={labels:e,datasets:[{backgroundColor:t,data:r}]}}}}},oe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{staticClass:"piechartdetail",attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"",sm12:"sm12",md12:"md12","justify-center":"","align-center":""}},[e.poll?r("div",[r("h1",[e._v("\n                "+e._s(e.poll.question))]),e._v(" "),r("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[r("pie-chart",{attrs:{"chart-data":e.datacollection,options:e.pieoptions}})],1),e._v(" "),r("v-layout",{attrs:{"justify-center":"","align-center":"",row:"",wrap:""}},e._l(e.datacollection.labels,function(t,s){return r("v-btn",{key:s,style:{backgroundColor:e.datacollection.datasets[0].backgroundColor[s]},attrs:{sm6:"",round:""},on:{click:function(){return e.vote(e.choiceIdByIndex(s))}}},[e._v(e._s(t)+"\n                ")])})),e._v(" "),r("v-flex",{attrs:{md4:"",xs12:"",sm12:"","offset-md4":""}},[r("v-form",{ref:"form",attrs:{autocomplete:"off","lazy-validation":"lazy-validation"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],staticClass:"newchoice",attrs:{placeholder:"New choice","data-vv-name":"newchoice","data-vv-delay":"100","data-vv-rules":"required",solo:"",required:"","append-icon":"send","append-icon-cb":e.newchoiceSend,"error-messages":e.errors.collect("newchoice")},model:{value:e.newchoice,callback:function(t){e.newchoice=t},expression:"newchoice"}}),e._v(" "),e.showRemovedBtn?r("v-btn",{attrs:{block:"",round:"",color:"error"},on:{click:function(){return e.remove()}}},[e._v(" Remove poll\n                        ")]):e._e(),e._v(" "),null!==e.error?r("v-alert",{staticClass:"customerror",attrs:{type:"error",value:!0},domProps:{innerHTML:e._s(e.error)}}):e._e()],1)],1)],1):e._e()])],1)},staticRenderFns:[]};var ne=r("VU/8")(se,oe,!1,function(e){r("6Biq")},"data-v-6ea90aa3",null).exports,ae=s.a.extend({name:"AllPolls",data:function(){return{error:null}},computed:{pollEmpty:function(){return!this.polls||0===this.polls.length},polls:function(){return this.$store.getters.getPolls}},render:function(e){return e(J,{props:{polls:this.polls}})},methods:{viewPoll:function(e){console.log("view poll",e);var t=e._id;this.$router.push({name:"polldetail",params:{id:t,poll:e}})},getPolls:function(){var e=this;return j()(g.a.mark(function t(){var r,s;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C();case 3:r=t.sent,console.log("polls response",r),s=r.data.polls,e.$store.dispatch("setPolls",s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.error=t.t0.response.data.error.msg||"An error has occured, please try again later";case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}},created:function(){console.log("created")},mounted:function(){console.log("mounted"),this.getPolls()},updated:function(){console.log("updated")}}),le=s.a.extend({name:"MyPolls",data:function(){return{error:null}},computed:{pollEmpty:function(){return!this.polls||0===this.polls.length},polls:function(){return this.$store.getters.getMyPolls}},render:function(e){return e(J,{props:{polls:this.polls}})},methods:{viewPoll:function(e){console.log("view poll",e);var t=e._id;this.$router.push({name:"polldetail",params:{id:t,poll:e}})},getPolls:function(){var e=this;return j()(g.a.mark(function t(){var r,s;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z();case 3:r=t.sent,console.log("my polls response",r),s=r.data.polls,e.$store.dispatch("setMyPolls",s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.error=t.t0.response.data.error.msg||"An error has occured, please try again later";case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}},created:function(){console.log("mypolls created")},mounted:function(){console.log("mypolls mounted"),this.getPolls()},updated:function(){console.log("mypolls updated")}});s.a.use(A.a);var ie=new A.a({routes:[{path:"/about",name:"about",component:I},{path:"/register",name:"register",component:T},{path:"/login",name:"login",component:B},{path:"/poll/create",name:"createpoll",component:Y,meta:{requiresAuth:!0}},{path:"/",name:"allpolls",component:ae},{path:"/poll/my",name:"mypolls",component:le,meta:{requiresAuth:!0}},{path:"/polls/:id",name:"polldetail",component:ne,props:!0}]}),ce=r("AYPi"),ue=r.n(ce);s.a.use(ue.a,{id:"UA-119015835-2",router:ie}),s.a.config.productionTip=!1,s.a.use(n.a),s.a.use(a.a),Object(l.sync)(f,ie),ie.beforeEach(function(e,t,r){var s=e.matched.some(function(e){return e.meta.requiresAuth}),o=f.state.isUserLoggedIn;s&&!o?r("/login"):r()}),new s.a({el:"#app",store:f,router:ie,components:{App:N},template:"<App/>"})},RNen:function(e,t){},XfLW:function(e,t){},s7B2:function(e,t){},tR6p:function(e,t){},uslO:function(e,t,r){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(e){return r(n(e))}function n(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.0fca04903f873b65313c.js.map